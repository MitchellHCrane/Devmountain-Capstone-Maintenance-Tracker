(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(32),i=a.n(r),s=a(6),l=(a(40),a(10)),d=a(11),o=a(13),j=a(12),h=a(2),u=a(33),b=a(9),g=a.n(b),v=a(0),O=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",user:{}},n}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={users_name:this.state.username,users_password:this.state.password};g.a.post("/auth/login",a).then((function(e){window.localStorage.setItem("user",JSON.stringify(e.data)),t.props.history.push("/garages")})).catch((function(e){alert("Invalid Credentials, Try Again. Error")}))}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"loginBackground",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h3",{id:"headerQuote",children:"Stop sifting through paper records. Track your maintenance digitally!"})}),Object(v.jsx)("div",{className:"formContainer",children:Object(v.jsx)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:Object(v.jsxs)("div",{className:"fieldContainer",children:[Object(v.jsx)("label",{children:Object(v.jsx)("b",{children:"Username"})}),Object(v.jsx)("input",{type:"text",placeholder:"Enter Username",name:"username",required:!0,value:this.state.username,onChange:function(t){return e.handleChange(t)}}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:Object(v.jsx)("b",{children:"Password"})}),Object(v.jsx)("input",{type:"password",placeholder:"Enter Password",name:"password",required:!0,value:this.state.password,onChange:function(t){return e.handleChange(t)}}),Object(v.jsx)("button",{type:"submit",children:"Login"})]})})})]})})}}]),a}(c.a.Component),m=Object(h.f)(O),p=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onClickAddVehicle=function(){var e=n.state,t=e.garage_image,a=e.vehicle_name,c=JSON.parse(window.localStorage.getItem("user"));console.log(c),g.a.post("/garages/".concat(c.id),{garage_image:t,vehicle_name:a}).then((function(e){n.setState({garage_image:"",vehicle_name:""}),g.a.get("/garages/".concat(c.id)).then((function(e){n.setState({garage:e.data})}))}))},n.handleGarageImageInput=function(e){n.setState({garage_image:e.target.value})},n.handleVehicleNameInput=function(e){n.setState({vehicle_name:e.target.value})},n.state={garage:[],garage_image:"",vehicle_name:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(window.localStorage.getItem("user"));g.a.get("/garages/".concat(t.id)).then((function(t){e.setState({garage:t.data})}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"signOutDiv",children:Object(v.jsx)(s.b,{id:"navBtn",to:"/",children:"Sign Out"})}),Object(v.jsx)("h2",{className:"garageH2",children:"Your Garage"}),Object(v.jsxs)("div",{className:"submitDiv",children:[Object(v.jsx)("input",{onChange:function(t){return e.handleGarageImageInput(t)},placeholder:"Image URL",value:this.state.garage_image}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{onChange:function(t){return e.handleVehicleNameInput(t)},placeholder:"Vehicl Name",value:this.state.vehicle_name}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"btn",children:Object(v.jsx)("button",{onClick:this.onClickAddVehicle,className:"button",children:"Add Vehicle"})})]}),Object(v.jsx)("div",{className:"cards",children:this.state.garage.map((function(e){return Object(v.jsx)(s.b,{to:"/garage-records/".concat(e.id),children:Object(v.jsxs)("div",{className:"garageCard",children:[Object(v.jsx)("div",{className:"garageImg",children:Object(v.jsx)("img",{alt:e.vehicle_name,src:e.garage_image})}),Object(v.jsx)("div",{className:"vNameDiv",children:Object(v.jsx)("h3",{children:e.vehicle_name})})]})},e.id)}))})]})}}]),a}(c.a.Component),x=Object(h.f)(p),f=(a(66),function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onClickAddRecord=function(){var e=n.state,t=e.record_date,a=e.mileage,c=e.service_note;g.a.post("/garage/".concat(n.props.match.params.id),{record_date:t,mileage:a,service_note:c}).then((function(e){n.setState({record_date:"",mileage:"",service_note:""}),g.a.get("/records/".concat(n.props.match.params.id)).then((function(e){n.setState({record:e.data})}))}))},n.handleDateInput=function(e){n.setState({record_date:e.target.value})},n.handleMileageInput=function(e){n.setState({mileage:e.target.value})},n.handleServiceInput=function(e){n.setState({service_note:e.target.value})},n.state={record:[],vehicle:{},record_date:"",mileage:"",service_note:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/records/".concat(this.props.match.params.id)).then((function(t){e.setState({record:t.data})})),g.a.get("/garage/".concat(this.props.match.params.id)).then((function(t){e.setState({vehicle:t.data})}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"signOutDiv",children:[Object(v.jsx)(s.b,{to:"/garages",className:"back",id:"navBtn",children:"Back"}),Object(v.jsx)(s.b,{to:"/",id:"navBtn",children:"Sign Out"})]}),Object(v.jsxs)("h4",{className:"recordH2",children:[this.state.vehicle.vehicle_name," Maintenance History"]}),Object(v.jsx)("div",{className:"recordCard",children:Object(v.jsx)("div",{className:"recordImg",children:Object(v.jsx)("img",{width:"100%",alt:this.state.vehicle.vehicle_name,src:this.state.vehicle.garage_image})})}),Object(v.jsxs)("div",{className:"submitDiv",children:[Object(v.jsx)("input",{onChange:function(t){return e.handleDateInput(t)},placeholder:"Date 'YYYY-MM-DD'",value:this.state.record_date}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{onChange:function(t){return e.handleMileageInput(t)},placeholder:"Mileage",value:this.state.mileage}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{onChange:function(t){return e.handleServiceInput(t)},placeholder:"Service Note",value:this.state.service_note}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"btn",children:Object(v.jsx)("button",{onClick:this.onClickAddRecord,className:"addRecord",children:"Add Record"})})]}),this.state.record.map((function(e){return Object(v.jsx)("div",{className:"recordDiv",children:Object(v.jsxs)("div",{className:"pRecord",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("i",{children:Object(v.jsx)("strong",{children:"Date:"})})," ",e.record_date]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("i",{children:Object(v.jsx)("strong",{children:"Mileage:"})})," ",e.mileage]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("i",{children:Object(v.jsx)("strong",{children:"Service:"})})," ",e.service_note]})]})},e.id)})),Object(v.jsx)("br",{})]})}}]),a}(c.a.Component)),N=Object(h.f)(f),_=Object(v.jsxs)(h.c,{children:[Object(v.jsx)(h.a,{component:m,exact:!0,path:"/"}),Object(v.jsx)(h.a,{component:x,path:"/garages"}),Object(v.jsx)(h.a,{component:N,path:"/garage-records/:id"})]}),S=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"navigation",children:Object(v.jsx)("nav",{className:"navbar navbar-expand text-white",children:Object(v.jsx)("div",{className:"container justify-content-center",children:Object(v.jsx)("h1",{children:"Maintenance Tracker"})})})})}}]),a}(n.Component),C=Object(h.f)(S),k=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(C,{}),Object(v.jsx)("div",{className:"app",children:_})]})}}]),a}(n.Component);i.a.render(Object(v.jsx)(s.a,{children:Object(v.jsx)(k,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.e40b21de.chunk.js.map